{extend name="base"}{block name="title"}文章详情--博客之家 发现技术的地方{/block}
{block name="content"}
<section class="container">
  <div class="content-wrap">
    <div class="content">
      <header class="article-header">
        <h1 class="article-title">
        <a href="#">{$article.title}</a></h1>
        <div class="article-meta">
          <span class="item article-meta-time">
            <time class="time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="发表时间：{$article.create_time}"><i class="glyphicon glyphicon-time"></i> {$article.create_time}</time>
          </span>
          <span class="item article-meta-source" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="来源：taopapa博客之家"><i class="glyphicon glyphicon-globe"></i> taopapa博客之家</span>
          <span style="display: none;">
            {if condition="$article.author.username==session('username','','author')"}{$name = "·我"}{$url = "author/index"}{else}{$name = $article.author.username}{$url = "author/person"}{/if}
          </span>
          <span class="item article-meta-category" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="作者：{if condition='$article.author_id==0'}taopapa{else}{$article.author.username}{/if}"><i class="glyphicon glyphicon-list"></i> <a href="{:url($url,['username'=>$article.author.username])}" title="作者：{if condition='$article.author_id==0'}taopapa{else}{$article.author.username}{/if}" >作者：{if condition="$article.author_id==0"}<code>taopapa</code>{else}{$name}{/if}</a></span>
          <span class="item article-meta-views" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="浏览量：219"><i class="glyphicon glyphicon-eye-open"></i> 219</span>
          <span class="item article-meta-comment" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="评论量"><i class="glyphicon glyphicon-comment"></i> {$article.comment_num}</span>
        </div>
      </header>

      <article class="article-content">
        <p><img data-original="/taopapa/public/article/default2.jpg" src="/taopapa/public/article/default2.jpg" alt=""/></p>
        {$article.content|html_entity_decode}
        <!-- <pre class="prettyprint lang-cs">代码示例：
        public static double JieCheng(int number)
        {
            if (number == 0)
            {
                return 0;
            }

            //初始值必须设置为1
            double result = 1; 

            for (int i = number; i &gt;= 1; i--)
            {
                result = result*i;
            }
            return result;
        }</pre> -->
        <div class="bdsharebuttonbox">
          <a href="#" class="bds_more" data-cmd="more"></a>
          <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
          <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
          <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
          <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
          <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
          <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
        </div>
          <script>
            window._bd_share_config = {
              "common": {
                "bdSnsKey": {},
                "bdText": "",
                "bdMini": "2",
                "bdMiniList": false,
                "bdPic": "",
                "bdStyle": "1",
                "bdSize": "32" 
              }, 
              "share": {}
            };
          with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];
        </script>
      </article>
      <div class="article-tags">
        标签：
        <a href="http://www.whoismy94.top" rel="tag" >taopapa博客之家</a>
        <a href="#" rel="tag" >{$article.category.categoryname}</a>

      </div>
      <div class="relates">
        <div class="title">
          <h3>相关推荐</h3>
        </div>
        <ul>
          <li><a href="https://blog.csdn.net/growing_tree/article/details/80572577" title="GitHub被收购" >如果 GitHub 被中国互联网巨头收购，一定会换一个响当当的 Slogan！</a></li>
          <li><a href="https://blog.csdn.net/dQCFKyQDXYm3F8rB0/article/details/80563893" title="跨镜追踪(ReID)技术" >刷新三项世界纪录的跨镜追踪(ReID)技术是怎样实现的？</a></li>
          <li><a href="https://blog.csdn.net/csdnsevenn/article/details/80553341" title="鹅厂" >鹅厂，隐藏着让4万员工拼命工作的套路！</a></li>
          <li><a href="https://blog.csdn.net/guleileo/article/details/80585981" title="人工智能" >身份采集、活体检测、人脸比对...旷视是如何做FaceID的？</a></li>
        </ul>
      </div>
      <div class="title" id="comment">
        <h3>评论</h3>
      </div>
      <div id="respond">
            <form id="" name="comment-form" action="" method="POST">
                <div class="comment">
                    <input name="" id="nickname" class="form-control" size="22" placeholder="您的昵称（必填）" maxlength="15" autocomplete="off" tabindex="1" type="text">
                    <input name="" id="contact" class="form-control" size="22" placeholder="您的网址或邮箱（非必填）" maxlength="58" autocomplete="off" tabindex="2" type="text">
                    <div class="comment-box">
                        <textarea placeholder="您的评论或留言（必填）" name="comment-textarea" id="comment-textarea" cols="100%" rows="3" tabindex="3"></textarea>
                        <div class="comment-ctrl">
                            <div class="comment-prompt" style="display: none;"> <i class="fa fa-spin fa-circle-o-notch"></i> <span class="comment-prompt-text">评论正在提交中...请稍后</span> </div>
                            <div class="comment-success" style="display: none;"> <i class="fa fa-check"></i> <span class="comment-prompt-text">评论提交成功...</span> </div>
                            <button type="button" name="comment-submit" id="comment-submit" tabindex="4">评论</button>
                        </div>
                    </div>
                </div>
            </form>
            <script>
              $('#comment-submit').click(function(){
                  var nickname = $('#nickname').val();
                  var content = $('#comment-textarea').val();
                  var contact = $('#contact').val();
                  $.ajax({
                      url: "{:url('article/comment')}",
                      data: {
                          nickname:nickname,
                          content:content,
                          contact:contact,
                          username:"{:session('username','','author')}",
                          article_id:{$article.id}
                      },
                      async: true,   //是否为异步请求
                      cache: false,  //是否缓存结果
                      type: "POST", //请求方式为POST
                      dataType: "json",  //服务器返回的数据是什么类型
                      success: function(data){
                        $('#nickname').val('');
                        $('#comment-textarea').val('');
                        $('#contact').val('');
                        var data = JSON.parse(data);
                        if(data){
                          $('.comment-prompt').css('display','none');
                          $('.comment-success').css('display','block');
                          window.history.go(0);
                        }
                      },
                      error: function(data){
                        alert(data);
                      }
                  });
              });
          </script>
        </div>
      <div id="postcomments">
        <ol id="comment_list" class="commentlist">
        {volist name="comments" id="co"}
        <span style="display: none">{$num++}</span>
          <li class="comment-content">
            <span class="comment-f">#{$num}</span>
            <div class="comment-main">
              <p>
                <a class="address" href="#" rel="nofollow" target="_blank">{$co.nickname}</a><span class="time">{$co.update_time}</span>
                <br>
                {$co.content}
              </p>
            </div>
          </li>
          {/volist}
        </ol>
      </div>
    </div>
  </div>
<aside class="sidebar">
        <div class="fixed">
            <div class="widget widget-tabs">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#notice" aria-controls="notice" role="tab" data-toggle="tab">统计信息</a></li>
                    <li role="presentation"><a href="#contact" aria-controls="contact" role="tab" data-toggle="tab">联系站长</a></li>
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane contact active" id="notice">
                        <h2>日志总数:
                  {:count(model('article')->select())}篇
              </h2>
                        <h2>网站运行:
              <span id="sitetime">{:floor((time()-strtotime('2018-05-28'))/86400)}天 </span></h2>
                    </div>
                    <div role="tabpanel" class="tab-pane contact" id="contact">
                        <h2>QQ:
                  <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1279728601&amp;site=qq&amp;menu=yes" target="_blank" rel="nofollow" data-toggle="tooltip" data-placement="bottom" title=""  data-original-title="QQ:1279728601">1279728601</a>
              </h2>
                        <h2>Email:
              <a href="mailto:1279728601@qq.com" target="_blank" data-toggle="tooltip" rel="nofollow" data-placement="bottom" title=""  data-original-title="Email:1279728601@qq.com">1279728601@qq.com</a></h2>
                    </div>
                </div>
            </div>
            <div class="widget widget_search">
                <form class="navbar-form" action="/Search" method="post">
                    <div class="input-group">
                        <input type="text" name="keyword" class="form-control" size="35" placeholder="请输入关键字" maxlength="15" autocomplete="off">
                        <span class="input-group-btn">
            <button class="btn btn-default btn-search" name="search" type="submit">搜索</button>
            </span> </div>
                </form>
            </div>
        </div>
        <div class="widget widget_hot">
            <h3>最新评论文章</h3>
            <ul>
              {volist name="comment_list" id="comm"}
                <li>
                    <a title="{$comm.title}" href="{:url('index/detail',['id'=>$comm.id])}">
                        <span class="thumbnail">
                            {eq name="$comm.logo" value=""}
                            <img class="thumb" data-original="/taopapa/public/article/default.jpg" src="/taopapa/public/article/default.jpg" alt="{$comm.title}"  style="display: block;">
                            {else}
                            <img class="thumb" data-original="{$comm.logo}" src="{$comm.logo}" alt="{$comm.title}"  style="display: block;">
                            {/eq}
                        </span>
                        <span class="text">{$comm.title}</span>
                        <span class="muted">
                            <i class="glyphicon glyphicon-time"></i>
                            {$comm.create_time}
                        </span>
                        <span class="muted">
                            <i class="glyphicon glyphicon-eye-open"></i>
                            88
                        </span>
                    </a>
                </li>
                {/volist}
            </ul>
        </div>
        <div class="widget widget_sentence">
            <a href="#" target="_blank" rel="nofollow" title="taopapa博客之家">
                <img style="width: 100%" src="/taopapa/public/news/aa.jpg" alt="taopapa博客之家" >
            </a>
        </div>
        <div class="widget widget_sentence">
            <a href="#" target="_blank" rel="nofollow" title="">
                <img style="width: 100%" src="/taopapa/public/news/bb.jpg" alt="" >
            </a>
        </div>
        <div class="panel panel-warning">
            <div class="panel-heading"><small style="font-size: 18px;">关于我们</small></div>
            <div class="panel-body">
                ...
            </div>
        </div>
    </aside>
</section>
{/block}